#!/usr/bin/env bash
# Mock osascript for testing
# Logs invocations and returns fake window IDs

MOCK_LOG_DIR="${MOCK_LOG_DIR:-/tmp}"
MOCK_LOG="$MOCK_LOG_DIR/osascript.log"

echo "$(date +%Y-%m-%dT%H:%M:%S) $0 $*" >> "$MOCK_LOG"

# If getting window ID, return fake ID (just the numeric ID)
if echo "$*" | grep -q "id of current window"; then
    echo "12345"
fi

# If selecting window, succeed silently
if echo "$*" | grep -q "select window"; then
    exit 0
fi

exit 0
